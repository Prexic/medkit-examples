<html>
  <head>
    <style>
      @import url('//fonts.googleapis.com/css?family=Roboto');

      body {
        font-family: 'Roboto', sans-serif;
      }

    </style>
    <script type="text/javascript">
      /*
      * For testing, we explicitly set the role to broadcaster.
      */
      Muxy.testJWTRole = 'broadcaster';

      /*
      * All Muxy-powered extensions begin by initializing the SDK. This is done by simply calling
      * `setup()` on the global Muxy object with your extension's Client ID, and then creating an
      * SDK object.
      */
      Muxy.setup({ clientID: 'replaceme' });
      const sdk = new Muxy.SDK();

      

      /*
      * Here we attach an event listener for the click of the button that validates the user input broadcaster 
      * PIN (here called "Auth Code") with Muxy's Two-Factor auth system and displays the appropriate message 
      * to the user based on the validation response.
      */
      document.querySelector('#validate').addEventListener('click', () => {
        const codeEl = document.querySelector('#code');
        const statusEl = document.querySelector('#status');
        
        sdk.validateCode(codeEl.value)
          .then(() => {
            statusEl.innerHTML = 'Token successfully validated';
          })
          .catch(() => {
            statusEl.innerHTML = 'Token could not be validated, please try again.';
          });
      });
    </script>
  </head>

  <body>
    <label>
      Auth Code
      <br />
      <input id="code" type="text">
    </label>
    <br />
    <button id="validate">Validate</button>
    <br />
    <span id="status"></span>
  </body>
</html>